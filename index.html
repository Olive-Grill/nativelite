<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="config/main.css" />
    <script src="config/main.js" type="module"></script>
</head>
<body>
    <div class="center">
        <h1 id="title"></h1>
        <p id="subtitle"></p>
    </div>

    <!-- Tools Button -->
    <div class="center">
        <button id="toolsButton" class="button tools-button" onclick="toggleTools()">üõ†Ô∏è Tools</button>
    </div>

    <!-- Hidden Buttons Container -->
    <div id="toolsContainer" class="button-container hidden">
        <a href="https://forms.gle/t9KCv2UWJPUb3isW7" target="_blank">
            <button class="button feedback-button">üìù Give Feedback</button>
        </a>
        <button class="button chatroom-button" onclick="window.open('https://us29.chatzy.com/46298746305400', '_blank')">
            üí¨ Open Chatroom
        </button>
        <a href="https://sites.google.com/portnet.org/263875438796534879658734687956/home" target="_blank">
            <button class="button legacy-button">üï∞Ô∏è Legacy Version</button>
        </a>
        <button class="button dark-mode-button" onclick="toggleDarkMode()">üåô Toggle Dark Mode</button>
        <button class="button mission-toggle" onclick="toggleMission()">üìú Our Mission</button>
    </div>

    <!-- Mission Statement Drop-Down -->
    <div id="missionStatement" class="mission-content">
        <p>
            We strive to create a space where users can easily find and enjoy games while fostering a welcoming community.<br /><br />
            Student privacy is an important issue in education. Privacy is a fundamental human right that establishes limits to limit access to personal information.<br /><br />
            It is essential to understand the importance of protecting student data to prevent it from falling into the wrong hands.<br /><br />
            There are federal and state laws that regulate the privacy of students' personally identifiable information (PII), and there are legal and ethical limitations on the collection and use of this data.<br />
            It is wrong to deprive students of their privacy by monitoring and changing everything they do. This is considered illegal and violates students' privacy rights.<br /><br />
            Privacy is a fundamental value that must be respected in a democratic society. Both the State and private organizations must limit their power to commit illegal or arbitrary intrusions into people's private lives.
        </p>
    </div>

    <!-- Search Bar -->
    <div class="center">
        <input type="text" id="searchInput" placeholder="Search games" />
    </div>
    <div id="gamesContainer"></div>

    <div class="footer">
        <a style="font-weight: 700">a site by</a>
        <a style="font-weight: 700" class="link" href="https://dsc.gg/parcoil">parcoil network</a>
    </div>

    <style>
        /* ToS Popup Styles */
        .tos-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px); /* Blurring effect */
            z-index: 9999; /* Ensure it's above other content */
            justify-content: center;
            align-items: center;
        }
        
        .tos-popup-content {
            background-color: white;
            color: black;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
            overflow: auto;
            max-height: 80%;
        }
        
        .tos-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .tos-popup h2 {
            margin-bottom: 15px;
        }
        
        .tos-popup p {
            line-height: 1.6;
        }
        
        /* Button styles */
        #acceptTOS, #viewTOS {
            background-color: #4b87f7;
            color: white;
            font-size: 18px;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        #viewTOS {
            background-color: #ddd;
            color: #444;
        }
        
        #acceptTOS:hover, #viewTOS:hover {
            transform: scale(1.05);
        }
    </style>

    <script>
        // Check if the user has already accepted the ToS
        window.onload = function() {
            if (!localStorage.getItem('tosAccepted')) {
                document.getElementById('tosPopup').style.display = 'flex';
            }
        };

        // Function to accept the Terms of Service
        document.getElementById('acceptTOS').onclick = function() {
            localStorage.setItem('tosAccepted', 'true');
            document.getElementById('tosPopup').style.display = 'none';
        };

        // Function to view the Terms of Service directly in the popup
        document.getElementById('viewTOS').onclick = function() {
            document.getElementById('tosPopupContent').innerHTML = `
                <h2>Terms of Service</h2>
                <p>By accessing and using this website, you agree to comply with and be bound by the following terms and conditions. If you do not agree with these terms, you should not use the website.</p>
                <p>This website is intended for general use. All content is provided for informational purposes only. The website is not intended for use by individuals under the age of 13 without parental consent.</p>
                <p>We are committed to safeguarding your privacy. We collect personal information only when necessary and use it strictly for providing services. By using this website, you consent to the collection and use of your information as outlined in our privacy policy.</p>
                <p>We are not responsible for any direct, indirect, or consequential damages that may arise from using the website or relying on the information provided. We make no guarantees regarding the accuracy or completeness of the information on this site.</p>
                <p>We reserve the right to modify or update these terms at any time. All changes will be posted on this page, and by continuing to use the website, you agree to be bound by the updated terms.</p>
                <p>These terms are governed by the laws of [Insert Country/Region]. Any disputes arising from the use of this website will be resolved under the jurisdiction of [Insert Country/Region].</p>
                <p>If you have any questions or concerns about these terms, please contact us at [Insert Email Address].</p>
            `;
        };

        // Function to toggle tools section visibility
        function toggleTools() {
            const toolsContainer = document.getElementById('toolsContainer');
            toolsContainer.classList.toggle('hidden');
        }

        // Toggle Dark Mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }

        // Toggle the mission statement section visibility
        function toggleMission() {
            const missionContent = document.getElementById('missionStatement');
            missionContent.style.display = missionContent.style.display === 'none' ? 'block' : 'none';
        }
    </script>

    <!-- Terms of Service Popup -->
    <div id="tosPopup" class="tos-popup">
        <div class="tos-popup-content" id="tosPopupContent">
            <h2>Terms of Service</h2>
            <p>By accessing and using this website, you agree to comply with and be bound by the following terms and conditions...</p>
            <div class="tos-buttons">
                <button id="acceptTOS">Accept</button>
                <button id="viewTOS">View Full Terms</button>
            </div>
        </div>
    </div>
</body>
</html>
